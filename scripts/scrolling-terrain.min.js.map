{"version":3,"sources":["webpack://TerrainSketch/webpack/universalModuleDefinition","webpack://TerrainSketch/./src/Lantern.ts","webpack://TerrainSketch/./src/Particle.ts","webpack://TerrainSketch/./src/terrain.ts","webpack://TerrainSketch/webpack/bootstrap","webpack://TerrainSketch/./src/sketch.ts"],"names":["root","factory","exports","module","define","amd","self","Object","defineProperty","value","Lantern","Particle_1","p5","_this","this","draw","fillColor","p","color","fill","rectMode","CENTER","particle","x","y","move","width","reset","r","height","xSpeed","ySpeed","random","Particle","startYellow","endOrange","circle","innerRadius","i","glowRadius","size","alpha_1","lerpColor","Math","round","setupTerrain","displace","roughness","points","power","pow","ceil","log","j","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","sketch","Lantern_1","terrain_1","node","terrainPoints1","terrainPoints2","terrainPoints3","offsets","lanterns","setup","_a","getBoundingClientRect","console","createCanvas","terrainLanterns","push","background","noStroke","updateLanterns","drawTerrain","updateOffsets","offset","beginShape","vertex","length","floor","endShape","speed","idx"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAuB,cAAID,IAE3BD,EAAoB,cAAIC,IAR1B,CASGK,MAAM,WACT,M,wCCTAC,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IACtDP,EAAQQ,aAAU,EAClB,IAAIC,EAAa,EAAQ,IAqCzBT,EAAQQ,QAnCJ,SAAiBE,GACb,IAAIC,EAAQC,KACZA,KAAKC,KAAO,WACR,IAAIC,EAAYH,EAAMI,EAAEC,MAAM,IAAK,IAAK,GAAI,IAC5CL,EAAMI,EAAEE,KAAKH,GACbH,EAAMI,EAAEG,SAASP,EAAMI,EAAEI,QACzBR,EAAMS,SAASP,KAAKF,EAAMU,EAAGV,EAAMW,EAAI,IAE3CV,KAAKW,KAAO,YACJZ,EAAMU,EAAI,GAAKV,EAAMU,EAAIV,EAAMI,EAAES,QACjCb,EAAMc,SACNd,EAAMW,EAAIX,EAAMe,EAAI,GAAKf,EAAMW,EAAIX,EAAMI,EAAEY,SAC3ChB,EAAMc,QACVd,EAAMU,GAAKV,EAAMiB,OACjBjB,EAAMW,GAAKX,EAAMkB,OACjBlB,EAAMiB,QAAUjB,EAAMI,EAAEe,QAAQ,IAAM,MAE1ClB,KAAKa,MAAQ,WACTd,EAAMW,EAAIX,EAAMI,EAAEY,OAAS,GAC3BhB,EAAMU,EAAIV,EAAMI,EAAEe,OAAO,EAAGnB,EAAMI,EAAES,MAAQ,GAC5Cb,EAAMiB,OAASjB,EAAMI,EAAEe,OAAO,EAAG,KACjCnB,EAAMkB,OAASlB,EAAMI,EAAEe,QAAQ,IAAM,KAEzClB,KAAKG,EAAIL,EACTE,KAAKS,EAAIX,EAAGoB,OAAO,EAAGpB,EAAGc,OACzBZ,KAAKU,EAAIZ,EAAGoB,OAAO,EAAGpB,EAAGiB,QACzBf,KAAKgB,OAASlB,EAAGoB,QAAQ,IAAM,KAC/BlB,KAAKiB,OAASnB,EAAGoB,QAAQ,IAAM,IAC/BlB,KAAKc,EAAI,GACTd,KAAKY,MAAQ,GACbZ,KAAKe,OAAS,GACdf,KAAKQ,SAAW,IAAIX,EAAWsB,SAASrB,EAAIE,KAAKc,K,WCnCzDrB,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IACtDP,EAAQ+B,cAAW,EAuBnB/B,EAAQ+B,SArBJ,SAAkBrB,EAAIgB,GAClB,IAAIf,EAAQC,KACZA,KAAKC,KAAO,SAAUQ,EAAGC,GACrB,IAAIU,EAAcrB,EAAMI,EAAEC,MAAM,IAAK,IAAK,GACtCiB,EAAYtB,EAAMI,EAAEC,MAAM,IAAK,IAAK,GAAI,GAC5CL,EAAMI,EAAEE,KAAKe,GACbrB,EAAMI,EAAEmB,OAAOb,EAAGC,EAAGX,EAAMwB,aAC3B,IAAK,IAAIC,EAAIzB,EAAM0B,WAAYD,EAAI,EAAGA,IAAK,CACvC,IAAIE,EAAO3B,EAAMwB,YAAcC,EAC3BG,GAAW5B,EAAM0B,WAAa1B,EAAMwB,YAAcG,IAAS3B,EAAM0B,WAAa1B,EAAMwB,aACpFrB,EAAYH,EAAMI,EAAEyB,UAAUP,EAAWD,EAAaO,GAC1D5B,EAAMI,EAAEE,KAAKH,GACbH,EAAMI,EAAEmB,OAAOb,EAAGC,EAAGgB,KAG7B1B,KAAKG,EAAIL,EACTE,KAAKuB,YAAcM,KAAKC,MAAMhB,EAAI,GAClCd,KAAKyB,WAAaX,EAAId,KAAKuB,c,YCpBnC9B,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IACtDP,EAAQ2C,kBAAe,EACvB3C,EAAQ2C,aAAe,SAAUnB,EAAOG,EAAQiB,EAAUC,GACtD,IAAIC,EAAS,GACTC,EAAQN,KAAKO,IAAI,EAAGP,KAAKQ,KAAKR,KAAKS,IAAI1B,GAAUiB,KAAKS,IAAI,KAC9DJ,EAAO,GAAKnB,EAAS,EACrBmB,EAAOC,GAASpB,EAAS,EACzBiB,GAAYC,EACZ,IAAK,IAAIT,EAAI,EAAGA,EAAIW,EAAOX,GAAK,EAAG,CAC/B,IAAK,IAAIe,EAAKJ,EAAQX,EAAK,EAAGe,EAAIJ,EAAOI,GAAKJ,EAAQX,EAClDU,EAAOK,IAAOL,EAAOK,EAAKJ,EAAQX,EAAK,GAAKU,EAAOK,EAAKJ,EAAQX,EAAK,IAAM,EAC3EU,EAAOK,IAAOV,KAAKX,SAAWc,EAAW,EAAKA,EAElDA,GAAYC,EAEhB,OAAOC,KCfPM,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAavD,QAGrB,IAAIC,EAASmD,EAAyBE,GAAY,CAGjDtD,QAAS,IAOV,OAHAyD,EAAoBH,GAAUrD,EAAQA,EAAOD,QAASqD,GAG/CpD,EAAOD,Q,6BCpBfK,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IACtDP,EAAQ0D,YAAS,EACjB,IAAIC,EAAY,EAAQ,KACpBC,EAAY,EAAQ,KA0DxB5D,EAAQ0D,OAzDK,SAAUG,GAAQ,OAAO,SAAUnD,GAC5C,IACIoD,EAAiB,GACjBC,EAAiB,GACjBC,EAAiB,GACjBC,EAAU,CAAC,EAAG,EAAG,GACjBC,EAAW,GACfxD,EAAGyD,MAAQ,WACP,IAAIC,EAAKP,EAAKQ,wBAAyB7C,EAAQ4C,EAAG5C,MAAOG,EAASyC,EAAGzC,OACrE2C,QAAQpB,IAAI1B,EAAOG,GACnBjB,EAAG6D,aAAa/C,EAAOG,GACvBmC,EAAiBF,EAAUjB,aAAanB,EAAgB,EAATG,EAAa,EAAGA,EAAS,EAAG,KAC3EoC,EAAiBH,EAAUjB,aAAanB,EAAOG,EAAQA,EAAS,EAAG,KACnEqC,EAAiBJ,EAAUjB,aAAanB,EAAgB,EAATG,EAAa,EAAGA,EAAS,EAAG,KAC3E,IAAK,IAAIS,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,IADA,IAAIoC,EAAkB,GACbrB,EAAI,EAAGA,EAAI,EAAGA,IACnBqB,EAAgBC,KAAK,IAAId,EAAUnD,QAAQE,IAE/CwD,EAASO,KAAKD,KAGtB9D,EAAGG,KAAO,WACNH,EAAGgE,WAAW,KACdhE,EAAGiE,WACHC,EAAe,GACflE,EAAGO,KAAK,GACR4D,EAAYb,EAAgBC,EAAQ,IACpCW,EAAe,GACflE,EAAGO,KAAK,KACR4D,EAAYd,EAAgBE,EAAQ,IACpCW,EAAe,GACflE,EAAGO,KAAK,KACR4D,EAAYf,EAAgBG,EAAQ,IACpCa,KAEJ,IAAID,EAAc,SAAU/B,EAAQiC,GAChCrE,EAAGsE,aACHtE,EAAGuE,OAAO,EAAGvE,EAAGiB,QAChB,IAAK,IAAIN,EAAI0D,EAAQ1D,EAAIyB,EAAOoC,OAASH,EAAQ1D,IAC7CX,EAAGuE,OAAO5D,EAAI0D,EAAQjC,EAAOL,KAAK0C,MAAM9D,EAAIyB,EAAOoC,UAEvDxE,EAAGuE,OAAOvE,EAAGc,MAAOd,EAAGiB,QACvBjB,EAAG0E,YAEHN,EAAgB,WAChBb,EAAQ,IAAMA,EAAQ,GAAKoB,KAAevB,EAAeoB,OACzDjB,EAAQ,IAAMA,EAAQ,GAAKoB,IAAatB,EAAemB,OACvDjB,EAAQ,IAAMA,EAAQ,GAAKoB,KAAerB,EAAekB,QAEzDN,EAAiB,SAAUU,GAC3B,IAAK,IAAIlD,EAAI,EAAGA,EAAI8B,EAASoB,GAAKJ,OAAQ9C,IACtC8B,EAASoB,GAAKlD,GAAGb,OACjB2C,EAASoB,GAAKlD,GAAGvB,W","file":"scrolling-terrain.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TerrainSketch\"] = factory();\n\telse\n\t\troot[\"TerrainSketch\"] = factory();\n})(self, function() {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lantern = void 0;\nvar Particle_1 = require(\"./Particle\");\nvar Lantern = (function () {\n    function Lantern(p5) {\n        var _this = this;\n        this.draw = function () {\n            var fillColor = _this.p.color(254, 129, 22, 75);\n            _this.p.fill(fillColor);\n            _this.p.rectMode(_this.p.CENTER);\n            _this.particle.draw(_this.x, _this.y + 5);\n        };\n        this.move = function () {\n            if (_this.x < 0 || _this.x > _this.p.width)\n                _this.reset();\n            if (_this.y + _this.r < 0 || _this.y > _this.p.height)\n                _this.reset();\n            _this.x += _this.xSpeed;\n            _this.y += _this.ySpeed;\n            _this.xSpeed += _this.p.random(-0.01, 0.01);\n        };\n        this.reset = function () {\n            _this.y = _this.p.height - 10;\n            _this.x = _this.p.random(5, _this.p.width - 5);\n            _this.xSpeed = _this.p.random(0, 0.05);\n            _this.ySpeed = _this.p.random(-0.2, -0.3);\n        };\n        this.p = p5;\n        this.x = p5.random(0, p5.width);\n        this.y = p5.random(0, p5.height);\n        this.xSpeed = p5.random(-0.05, 0.05);\n        this.ySpeed = p5.random(-0.2, -0.3);\n        this.r = 20;\n        this.width = 20;\n        this.height = 30;\n        this.particle = new Particle_1.Particle(p5, this.r);\n    }\n    return Lantern;\n}());\nexports.Lantern = Lantern;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Particle = void 0;\nvar Particle = (function () {\n    function Particle(p5, r) {\n        var _this = this;\n        this.draw = function (x, y) {\n            var startYellow = _this.p.color(255, 246, 0);\n            var endOrange = _this.p.color(254, 129, 22, 0);\n            _this.p.fill(startYellow);\n            _this.p.circle(x, y, _this.innerRadius);\n            for (var i = _this.glowRadius; i > 0; i--) {\n                var size = _this.innerRadius + i;\n                var alpha_1 = (_this.glowRadius + _this.innerRadius - size) / (_this.glowRadius + _this.innerRadius);\n                var fillColor = _this.p.lerpColor(endOrange, startYellow, alpha_1);\n                _this.p.fill(fillColor);\n                _this.p.circle(x, y, size);\n            }\n        };\n        this.p = p5;\n        this.innerRadius = Math.round(r / 4);\n        this.glowRadius = r - this.innerRadius;\n    }\n    return Particle;\n}());\nexports.Particle = Particle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setupTerrain = void 0;\nexports.setupTerrain = function (width, height, displace, roughness) {\n    var points = [];\n    var power = Math.pow(2, Math.ceil(Math.log(width) / (Math.log(2))));\n    points[0] = height / 2;\n    points[power] = height / 2;\n    displace *= roughness;\n    for (var i = 1; i < power; i *= 2) {\n        for (var j = (power / i) / 2; j < power; j += power / i) {\n            points[j] = ((points[j - (power / i) / 2] + points[j + (power / i) / 2]) / 2);\n            points[j] += (Math.random() * displace * 2) - displace;\n        }\n        displace *= roughness;\n    }\n    return points;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sketch = void 0;\nvar Lantern_1 = require(\"./Lantern\");\nvar terrain_1 = require(\"./terrain\");\nvar sketch = function (node) { return function (p5) {\n    var speed = 0.5;\n    var terrainPoints1 = [];\n    var terrainPoints2 = [];\n    var terrainPoints3 = [];\n    var offsets = [0, 0, 0];\n    var lanterns = [];\n    p5.setup = function () {\n        var _a = node.getBoundingClientRect(), width = _a.width, height = _a.height;\n        console.log(width, height);\n        p5.createCanvas(width, height);\n        terrainPoints1 = terrain_1.setupTerrain(width, height * 7 / 4, height / 4, 0.54);\n        terrainPoints2 = terrain_1.setupTerrain(width, height, height / 4, 0.55);\n        terrainPoints3 = terrain_1.setupTerrain(width, height * 3 / 4, height / 4, 0.56);\n        for (var i = 0; i < 3; i++) {\n            var terrainLanterns = [];\n            for (var j = 0; j < 5; j++) {\n                terrainLanterns.push(new Lantern_1.Lantern(p5));\n            }\n            lanterns.push(terrainLanterns);\n        }\n    };\n    p5.draw = function () {\n        p5.background(255);\n        p5.noStroke();\n        updateLanterns(0);\n        p5.fill(0);\n        drawTerrain(terrainPoints3, offsets[0]);\n        updateLanterns(1);\n        p5.fill(100);\n        drawTerrain(terrainPoints2, offsets[1]);\n        updateLanterns(2);\n        p5.fill(200);\n        drawTerrain(terrainPoints1, offsets[2]);\n        updateOffsets();\n    };\n    var drawTerrain = function (points, offset) {\n        p5.beginShape();\n        p5.vertex(0, p5.height);\n        for (var x = offset; x < points.length + offset; x++) {\n            p5.vertex(x - offset, points[Math.floor(x % points.length)]);\n        }\n        p5.vertex(p5.width, p5.height);\n        p5.endShape();\n    };\n    var updateOffsets = function () {\n        offsets[0] = (offsets[0] + speed * 0.5) % terrainPoints1.length;\n        offsets[1] = (offsets[1] + speed * 1) % terrainPoints2.length;\n        offsets[2] = (offsets[2] + speed * 1.5) % terrainPoints3.length;\n    };\n    var updateLanterns = function (idx) {\n        for (var i = 0; i < lanterns[idx].length; i++) {\n            lanterns[idx][i].move();\n            lanterns[idx][i].draw();\n        }\n    };\n}; };\nexports.sketch = sketch;\n"],"sourceRoot":""}